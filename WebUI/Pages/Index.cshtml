@page
@model IndexModel
@{
    ViewData["Title"] = "Event Booking";
}

<div class="text-center">
    <h1 class="display-4">Event booking</h1>
    <p>Please use the form below to book and pay for a seat at the event.</p>

    <form method="post">

        <div class="form-group row">
            <label for="FullName" class="col-sm-3 col-form-label">Ticket Type:</label>
            <div class="col-sm-9">
                <select class="form-control" name="TicketType">
                    <option value="G">General ($10)</option>
                    <option value="R">Reserved ($20)</option>
                    <option value="V">VIP ($150)</option>
                </select>
            </div>
        </div>

        <div class="form-group row mt-sm-2">
            <label for="FullName" class="col-sm-3 col-form-label">Full Name</label>
            <div class="col-sm-9">
                <input type="text" class="form-control" id="FullName" name="FullName" placeholder="Your name" required>
            </div>
        </div>

        <div class="form-group row mt-sm-2">
            <label for="PhoneNumber" class="col-sm-3 col-form-label">Phone Number</label>
            <div class="col-sm-9">
                <input type="text" class="form-control" id="PhoneNumber" name="PhoneNumber" placeholder="Your phone number" required>
            </div>
        </div>

        <div class="form-group row mt-sm-2">
            <label for="EmailAddress" class="col-sm-3 col-form-label">Email Address</label>
            <div class="col-sm-9">
                <input type="text" class="form-control" id="EmailAddress" name="EmailAddress" placeholder="Your email address" required>
            </div>
        </div>

        <div class="form-group row mt-sm-2">
            <label for="CreditCardNumber" class="col-sm-3 col-form-label">Credit Card Number</label>
            <div class="col-sm-9">
                <input type="text" class="form-control" id="CreditCardNumber" name="CreditCardNumber" placeholder="Your credit card number" maxlength="16" required>
            </div>
        </div>

        <div class="form-group row mt-sm-2">
            <label for="ExpiryYear" class="col-sm-3 col-form-label">Expiry Year</label>
            <div class="col-sm-3">
                <input type="text" class="form-control" id="ExpiryYear" name="ExpiryYear" placeholder="Year (YYYY)" maxlength="4" required>
            </div>
        </div>

        <div class="form-group row mt-sm-2">
            <label for="ExpiryMonth" class="col-sm-3 col-form-label">Expiry Month</label>
            <div class="col-sm-3">
                <input type="text" class="form-control" id="ExpiryMonth" name="ExpiryMonth" placeholder="Month (MM)" maxlength="2" required>
            </div>
        </div>

        <div class="form-group row mt-sm-2">
            <label for="CVCNumber" class="col-sm-3 col-form-label">CVC Number</label>
            <div class="col-sm-3">
                <input type="text" class="form-control" id="CVCNumber" name="CVCNumber" placeholder="CVC number" maxlength="3" required>
            </div>
        </div>

        <div class="form-group row mt-sm-3">
            <div class="col-sm-12">
                <input type="checkbox" class="form-check-input" id="Terms" name="Terms" asp-for="Terms">
                <label for="Terms" class="form-check-label">I agree to the terms and conditions</label>
            </div>
        </div>

        <div class=" mt-sm-5">
            <button class="btn btn-primary" onclick="return checkTerms();">Make booking</button>
            <button class="btn btn-warning" onclick="populateForm();return false;">Populate form with test data</button>
        </div>
    </form>

</div>

<script>
    function checkTerms() {
        let termsElement = document.querySelector("#Terms");
        let termsValue = termsElement.checked;
        if (!termsValue)
            alert("Please agree to the terms");
        return termsValue;
    }

    function populateForm() {
        let fields = [
            {id:"FullName",value:"John Smith"},
            {id:"PhoneNumber", value:"0123 456 789"},
            {id:"EmailAddress",value:"youremailaddresshere@test.com"},
            {id:"CreditCardNumber",value:"4444555566667777"},
            {id:"ExpiryYear",value:"2030"},
            {id:"ExpiryMonth",value:"12"},
            {id:"CVCNumber",value:"123"},
        ];

        fields.forEach(field => {
            let element = document.querySelector("#" + field.id);
            element.value = field.value;
        });

        let termsElement = document.querySelector("#Terms");
        termsElement.checked = true;
    }
</script>